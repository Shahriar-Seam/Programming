for _ in range(1, int(input()) + 1):
    n = int(input())
    s = input()
    
    print(n - 2 if s[s.index(')') : ].count('(') > 1 else -1)
    